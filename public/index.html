<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>临时邮箱</title>
    <!-- 运行时注入域名列表（从 env.MAIL_DOMAIN 解析），用于前端域名选择 -->
    <meta name="mail-domains" content="">
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="shortcut icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="app.css" />
    <script src="/mock.js"></script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="app.js"></script>
    <script>
      // 防止页面泄露：检查认证状态
      (function() {
        // 如果当前页面不是通过认证流程访问的，则跳转到入口页面
        if (!sessionStorage.getItem('auth_checked')) {
          window.location.replace('/entry.html');
          return;
        }
        
        // 清除认证检查标记
        sessionStorage.removeItem('auth_checked');
      })();
    </script>
  </body>
  </html>

